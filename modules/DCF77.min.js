function b(a){return 1*(0|a[0])+2*(0|a[1])+4*(0|a[2])+8*(0|a[3])}function d(a){for(var b=0,c=0;c<a.length;c++)b^=a[c];return b}function f(a,e){if(d(a.substr(21,7))!=a[28])return e("Bad minutes");var c=b(a.substr(21,4))+10*b(a.substr(25,3));if(d(a.substr(29,6))!=a[35])return e("Bad hours");var g=b(a.substr(29,4))+10*b(a.substr(33,2));if(d(a.substr(36,22))!=a[58])return e("Bad date");var h=b(a.substr(36,4))+10*b(a.substr(40,2));b(a.substr(42,3));var f=b(a.substr(45,4))+10*b(a.substr(49,
1)),k=b(a.substr(50,4))+10*b(a.substr(54,4));return e(null,new Date(2E3+k,f-1,h,g,c,0,0),{CEST:!!a[17],CET:!!a[18]})}exports.connect=function(a,b){var c={last:getTime(),bits:""};setWatch(function(a){var d=.15>a.time-a.lastTime?0:1;1.5<a.time-c.last&&(f(c.bits,b),c.bits="");c.last=a.time;c.bits+=d;59<c.bits.length&&(c.bits=c.bits.substr(-59))},a,{edge:"falling",repeat:!0,debounce:75});return c}