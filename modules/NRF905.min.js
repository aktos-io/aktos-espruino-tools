function c(a,b,c,d,e){this.CSN=b;this.DR=c;this.TXE=d;this.TRXEN=e;this.spi=a;this.RXCallback=this.userCallback=this.busy=!1}c.prototype.setMyAddr=function(a){digitalWrite(this.TRXEN,0);this.setReg(2,17);this.spi.send([5,a,0,0,0],this.CSN);digitalWrite(this.TXE,0);digitalWrite(this.TRXEN,1)};c.prototype.setReg=function(a,b){digitalWrite(this.TRXEN,0);this.spi.send([a,b],this.CSN);digitalWrite(this.TXE,0);digitalWrite(this.TRXEN,1)};c.prototype.getReg=function(a){digitalWrite(this.TRXEN,
0);a=this.spi.send([a,0],this.CSN);digitalWrite(this.TXE,0);digitalWrite(this.TRXEN,1);return a[1]};c.prototype.getStatus=function(){digitalWrite(this.TRXEN,0);var a=this.spi.send(0,this.CSN);digitalWrite(this.TXE,0);digitalWrite(this.TRXEN,1);return a};c.prototype.getData=function(){var a=[];a.fill(0,0,32);digitalWrite(this.TRXEN,0);var b=[],b=this.spi.send([36,a],this.CSN),b=b.slice(1);digitalWrite(this.TXE,0);digitalWrite(this.TRXEN,1);return b};c.prototype.TXEnd=function(){digitalWrite(this.TXE,
0);digitalWrite(this.TRXEN,1);this.busy=!1;var a=this;0==this.RXCallback?this.RXCallback=setWatch(function(){a.NRF905RX()},this.DR,{repeat:!0,edge:"rising"}):console.log("RXCallback was not cleared properly.")};c.prototype.send=function(a,b){if(!this.busy){digitalWrite(this.TRXEN,0);this.RXCallback?(clearWatch(this.RXCallback),this.RXCallback=!1):console.log("RXCallback was inexistent");for(this.busy=!0;32<b.length;)b.pop();for(;32>b.length;)b.push(0);this.spi.send([32,b],this.CSN);"number"==typeof a&&
-1<a&&256>a?this.spi.send([34,a],this.CSN):console.log("NRF.send: wrong address format");digitalWrite(this.TXE,1);digitalPulse(this.TRXEN,1,1);var c=this;setWatch(function(){c.TXEnd()},this.DR,{edge:"rising"})}};c.prototype.NRF905RX=function(){var a=[],a=this.getData();0!=this.userCallback&&this.userCallback(a);digitalWrite(this.TXE,0);digitalWrite(this.TRXEN,1)};c.prototype.init=function(a,b){this.userCallback=b;this.busy=!0;digitalWrite(this.TRXEN,0);digitalWrite(this.TXE,0);digitalWrite(this.CSN,
1);this.setMyAddr(a);this.setReg(0,1);this.setReg(1,12);this.setReg(2,17);this.setReg(3,32);this.setReg(4,32);this.setReg(9,216);digitalWrite(this.TRXEN,1);digitalWrite(this.TXE,0);var c=this;this.RXCallback=setWatch(function(){c.NRF905RX()},this.DR,{repeat:!0,edge:"rising"});this.busy=!1};exports.connect=function(a,b,f,d,e){return new c(a,b,f,d,e)}