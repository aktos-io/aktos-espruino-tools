function k(b){b&&(b.height&&(f[4]=b.height-1,f[15]=64==b.height?18:2,h[5]=(b.height>>3)-1),void 0!==b.contrast&&(f[17]=b.contrast))}var f=new Uint8Array([174,213,128,168,63,211,0,64,141,20,32,0,161,200,218,18,129,207,217,241,219,64,164,166,175]),h=[33,0,127,34,0,7];exports.connect=function(b,e,c){k(c);var g=Graphics.createArrayBuffer(128,f[4]+1,1,{vertical_byte:!0}),d=60;c&&(c.address&&(d=c.address),c.rst&&digitalPulse(c.rst,0,10));setTimeout(function(){f.forEach(function(a){b.writeTo(d,
[0,a])})},50);void 0!==e&&setTimeout(e,100);g.flip=function(){h.forEach(function(a){b.writeTo(d,[0,a])});var a=new Uint8Array(129);a[0]=64;for(var c=0;c<this.buffer.length;c+=128)a.set(new Uint8Array(this.buffer,c,128),1),b.writeTo(d,a)};g.setContrast=function(a){b.writeTo(d,0,129,a)};return g};exports.connectSPI=function(b,e,c,g,d){k(d);var a=d?d.cs:void 0;d=Graphics.createArrayBuffer(128,f[4]+1,1,{vertical_byte:!0});c&&digitalPulse(c,0,10);setTimeout(function(){a&&digitalWrite(a,0);digitalWrite(e,
0);b.write(f);digitalWrite(e,1);a&&digitalWrite(a,10);void 0!==g&&setTimeout(g,10)},50);d.flip=function(){a&&digitalWrite(a,0);digitalWrite(e,0);b.write(h);digitalWrite(e,1);b.write(this.buffer);a&&digitalWrite(a,1)};d.setContrast=function(c){a&&a.reset();b.write(129,c,e);a&&a.set()};return d}